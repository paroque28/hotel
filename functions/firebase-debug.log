[debug] [2019-06-15T02:02:49.386Z] ----------------------------------------------------------------------
[debug] [2019-06-15T02:02:49.388Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2019-06-15T02:02:49.388Z] CLI Version:   7.0.0
[debug] [2019-06-15T02:02:49.388Z] Platform:      linux
[debug] [2019-06-15T02:02:49.388Z] Node Version:  v8.13.0
[debug] [2019-06-15T02:02:49.388Z] Time:          Fri Jun 14 2019 20:02:49 GMT-0600 (CST)
[debug] [2019-06-15T02:02:49.388Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-06-15T02:02:49.394Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-06-15T02:02:49.394Z] > authorizing via signed-in user
[debug] [2019-06-15T02:02:49.394Z] [iam] checking project hotel-cc24f for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-06-15T02:02:49.396Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/hotel-cc24f:testIamPermissions  

[debug] [2019-06-15T02:02:50.035Z] <<< HTTP RESPONSE 200
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions.
 Please upgrade using npm install --save firebase-functions@latest in your functions directory.
[info] 
[info] === Deploying to 'hotel-cc24f'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script.
[debug] [2019-06-15T02:02:53.022Z] > [functions] package.json contents: {
  "name": "moderate-image-function",
  "description": "Offensive Image blurring using Firebase Function",
  "dependencies": {
    "@google-cloud/vision": "^0.5.0",
    "child-process-promise": "^2.2.0",
    "mkdirp": "^0.5.1",
    "mkdirp-promise": "^4.0.0",
    "firebase-admin": "~7.1.1",
    "firebase-functions": "^2.2.1"
  },
  "devDependencies": {
    "eslint": "^4.13.1",
    "eslint-plugin-promise": "^3.6.0"
  },
  "scripts": {
    "lint": "./node_modules/.bin/eslint --max-warnings=0 .",
    "serve": "firebase serve --only functions",
    "shell": "firebase experimental:functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "8"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2019-06-15T02:02:53.023Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/hotel-cc24f?view=CONSUMER_VIEW  
 
[debug] [2019-06-15T02:02:53.024Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/hotel-cc24f?view=CONSUMER_VIEW  
 
[debug] [2019-06-15T02:02:54.060Z] <<< HTTP RESPONSE 200
[debug] [2019-06-15T02:02:54.187Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2019-06-15T02:02:54.190Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/hotel-cc24f  
 
[debug] [2019-06-15T02:02:54.484Z] <<< HTTP RESPONSE 200
[debug] [2019-06-15T02:02:54.485Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/522312279420:getServerAppConfig  
 
[debug] [2019-06-15T02:02:54.826Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2019-06-15T02:02:54.831Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/hotel-cc24f/configs  
 
[debug] [2019-06-15T02:02:55.198Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (63.08 KB) for uploading
[debug] [2019-06-15T02:02:55.802Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/hotel-cc24f/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2019-06-15T02:02:56.415Z] <<< HTTP RESPONSE 200
[debug] [2019-06-15T02:02:56.418Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-02e69b94-bbf3-4db4-abbb-9806ec437019/399dc726-5265-455a-9a80-316452fb51fa.zip?GoogleAccessId=service-522312279420@gcf-admin-robot.iam.gserviceaccount.com&Expires=1560565976&Signature=XlX8pMY%2FECMH6WPre7G53CH1JRWR7X1bJzdPXGLu7wXdgkGkzK6I5yXYGeONJZZHrbJ2cWt7UemoBHcU9eKTkh9qTXAcOzNdznL8rbkv0JVnhaOclQek484BPH1hnqcBT944jFsjwLvX011Hs36RDAseY2hbV0N1PscU7STXK1mB7YMxwaaQCc37tYgVs5Zd3OibjA03P6D7qHwELm1eFY8sRA0bVh%2BwadUcjzskWX3VIFvRlXJ7sadHt7gNwPQvtA0EBp4uL5HEECEB9iehBGrnLDwJF%2BnoUmlC8Jis%2BjQrIo%2FtZ3lYakl4EkzEPe9wgGYo4F6tXosSY8Ex9%2FsAQQ%3D%3D  

[debug] [2019-06-15T02:02:57.118Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[debug] [2019-06-15T02:02:57.124Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/hotel-cc24f/locations/-/functions  
 
[debug] [2019-06-15T02:02:57.782Z] <<< HTTP RESPONSE 200
[info] i  functions: updating Node.js 8 function blurOffensiveImages(us-central1)...
[debug] [2019-06-15T02:02:57.792Z] Trigger is:  {"eventTrigger":{"resource":"projects/_/buckets/hotel-cc24f.appspot.com","eventType":"google.storage.object.finalize","service":"storage.googleapis.com"}}
[debug] [2019-06-15T02:02:57.795Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudscheduler.googleapis.com/projectSettings/hotel-cc24f?view=CONSUMER_VIEW  
 
